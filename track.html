<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #f8f2e6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 16px;
        }
        .card {
            background: white;
            border-radius: 48px;
            padding: 32px;
            max-width: 500px;
            width: 100%;
            border: 4px solid #fec233;
            text-align: center;
        }
        .big-number {
            font-size: 4rem;
            font-weight: 900;
            background: #fff2d7;
            padding: 20px;
            border-radius: 40px;
            margin: 20px 0;
        }
        .status {
            font-size: 2rem;
            padding: 20px;
            border-radius: 60px;
            margin: 20px 0;
        }
        .waiting { background: #ff9800; color: white; }
        .ready { background: #4CAF50; color: white; }
        .done { background: #808080; color: white; }
    </style>
</head>
<body>
    <div class="card">
        <h1>üçî BURGER KING</h1>
        <div id="content">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBlZ5ZtyTXgtXxSXJAx1jOxwhTrzlHRJmo",
            authDomain: "bk-cashier.firebaseapp.com",
            databaseURL: "https://bk-cashier-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "bk-cashier",
            storageBucket: "bk-cashier.firebasestorage.app",
            messagingSenderId: "385000840969",
            appId: "1:385000840969:web:1ec8d09176b6551dc0fdd8"
        };

        firebase.initializeApp(firebaseConfig);

        const urlParams = new URLSearchParams(window.location.search);
        const orderNum = urlParams.get('order');

        if (!orderNum) {
            document.getElementById('content').innerHTML = '‚ùå –ù–µ —É–∫–∞–∑–∞–Ω –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞';
        } else {
            firebase.database().ref('orders/' + orderNum).on('value', (snapshot) => {
                const order = snapshot.val();
                if (!order) {
                    document.getElementById('content').innerHTML = '‚ùå –ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω';
                    return;
                }

                let statusClass = 'waiting';
                let statusText = '‚è≥ –ì–û–¢–û–í–ò–¢–°–Ø';
                
                if (order.status === 'ready') {
                    statusClass = 'ready';
                    statusText = '‚úÖ –ì–û–¢–û–í –ö –í–´–î–ê–ß–ï';
                } else if (order.status === 'done') {
                    statusClass = 'done';
                    statusText = 'üõí –ó–ê–ö–ê–ó –í–´–î–ê–ù';
                }

                document.getElementById('content').innerHTML = `
                    <div class="big-number">#${orderNum}</div>
                    <div class="status ${statusClass}">${statusText}</div>
                `;
            });
        }
    </script>
</body>
</html>
